import React from 'react';
import { useCart } from '../context/CartContext';

function CartHeader() {
  const { cartItems, setIsCartOpen } = useCart();
  const totalQuantity = cartItems.reduce((sum, item) => sum + item.quantity, 0);
  return (
			<div className="hover_cart_fixed" bis_skin_checked="1">
				<div className="cart_click " bis_skin_checked="1" onClick={() => setIsCartOpen(true)} style={{ cursor: 'pointer' }}>
					<div className="img_hover_cart default_cart" bis_skin_checked="1">
						<svg xmlns="http://www.w3.org/2000/svg" width="33" height="24" viewBox="0 0 33 24" fill="none">
							<path d="M13.286 24C12.8082 24.0001 12.341 23.8594 11.9437 23.5958C11.5463 23.3321 11.2366 22.9573 11.0537 22.5187C10.8708 22.0802 10.8228 21.5975 10.916 21.1319C11.0091 20.6663 11.2392 20.2386 11.577 19.9029C11.9148 19.5671 12.3453 19.3385 12.8139 19.2458C13.2825 19.1532 13.7683 19.2007 14.2098 19.3823C14.6512 19.564 15.0286 19.8716 15.294 20.2663C15.5595 20.661 15.7012 21.1251 15.7012 21.5998C15.7005 22.2361 15.4458 22.846 14.993 23.296C14.5402 23.7459 13.9264 23.9991 13.286 24Z" fill="#272625"></path>
							<path d="M21.7405 24C21.2627 24 20.7956 23.8592 20.3984 23.5955C20.0011 23.3318 19.6914 22.9569 19.5086 22.5183C19.3258 22.0798 19.2779 21.5972 19.3711 21.1316C19.4643 20.666 19.6944 20.2383 20.0323 19.9027C20.3701 19.567 20.8006 19.3384 21.2692 19.2458C21.7378 19.1532 22.2235 19.2007 22.665 19.3824C23.1064 19.564 23.4837 19.8717 23.7491 20.2664C24.0146 20.6611 24.1563 21.1251 24.1563 21.5998C24.1555 22.2362 23.9008 22.8462 23.4479 23.2962C22.995 23.7461 22.381 23.9993 21.7405 24Z" fill="#272625"></path>
							<path d="M22.1931 11.5874C18.9858 11.5874 16.3617 8.98024 16.3617 5.7937V5.78358C16.3628 5.65514 16.3384 5.52775 16.2898 5.40873C16.2412 5.2897 16.1694 5.18139 16.0785 5.09002C15.9877 4.99865 15.8795 4.92602 15.7603 4.87631C15.6411 4.8266 15.5132 4.80078 15.3839 4.80034H8.15244L7.46513 2.48398C7.04108 1.02149 5.65343 0 4.08688 0H1.20742C0.891591 0.00679374 0.591007 0.136215 0.370063 0.360534C0.14912 0.584854 0.0253906 0.886227 0.0253906 1.20008C0.0253906 1.51394 0.14912 1.81531 0.370063 2.03963C0.591007 2.26395 0.891591 2.39337 1.20742 2.40017H4.08462C4.58 2.40017 5.01311 2.70729 5.14389 3.15504L8.81541 15.5159C9.23946 16.9784 10.6271 17.9999 12.1948 17.9999H23.0576C23.7912 18.0036 24.5075 17.7785 25.1055 17.3564C25.7035 16.9343 26.1532 16.3364 26.3911 15.6469L27.3661 12.5735C27.4021 12.4599 27.4106 12.3395 27.3911 12.2221C27.3716 12.1046 27.3245 11.9934 27.2537 11.8974C27.1828 11.8014 27.0902 11.7233 26.9834 11.6694C26.8765 11.6156 26.7584 11.5875 26.6385 11.5874H22.1931Z" fill="#272625"></path>
						</svg>
						<span className="count_item count_item_pr hidden-count">{totalQuantity}</span>
					</div>
				</div>
				<div className="top-cart-content" bis_skin_checked="1">
					<div className="top_cart_header" bis_skin_checked="1">
						<div className="img_hover_cart">
							<div className="cart_icon">
								<svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="shopping-cart" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512" className="svg-inline--fa fa-shopping-cart fa-w-18">
									<path fill="currentColor" d="M528.12 301.319l47.273-208C578.806 78.301 567.391 64 551.99 64H159.208l-9.166-44.81C147.758 8.021 137.93 0 126.529 0H24C10.745 0 0 10.745 0 24v16c0 13.255 10.745 24 24 24h69.883l70.248 343.435C147.325 417.1 136 435.222 136 456c0 30.928 25.072 56 56 56s56-25.072 56-56c0-15.674-6.447-29.835-16.824-40h209.647C430.447 426.165 424 440.326 424 456c0 30.928 25.072 56 56 56s56-25.072 56-56c0-22.172-12.888-41.332-31.579-50.405l5.517-24.276c3.413-15.018-8.002-29.319-23.403-29.319H218.117l-6.545-32h293.145c11.206 0 20.92-7.754 23.403-18.681z"></path>
								</svg>
								<span className="count_item count_item_pr hidden-count">0</span>
							</div>
							Giỏ hàng
						</div>
						<div className="button_close">
							<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 352 512">
								<path d="M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"></path>
							</svg>
						</div>
					</div>
				</div>
			</div>
  );
}

export default CartHeader; 